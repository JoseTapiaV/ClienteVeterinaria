{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../servicios/firestore.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nexport class RegistroPage {\n  constructor(toastController, navController, base) {\n    this.toastController = toastController;\n    this.navController = navController;\n    this.base = base;\n    this.datos = {\n      id: \"\",\n      correo: \"\",\n      password: \"\",\n      perfil: 'cliente'\n    };\n  }\n  ngOnInit() {}\n  registrar() {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n      const res = yield this.base.registrarUser(this.datos.correo, this.datos.password).catch(error => {\n        this.mostrarMensaje(\"Ha ocurrido un error\");\n      });\n      if (res) {\n        this.mostrarMensaje(\"Se registro el usuario con exito!!\");\n        const path = 'Clientes';\n        const id = (_a = res.user) === null || _a === void 0 ? void 0 : _a.uid;\n        this.base.crearDocumeneto(this.datos, path, id);\n      }\n    });\n  }\n  mostrarMensaje(mensaje) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const toast = yield this.toastController.create({\n        position: 'top',\n        message: mensaje,\n        duration: 3000\n      });\n      toast.present();\n    });\n  }\n}\nRegistroPage.ɵfac = function RegistroPage_Factory(t) {\n  return new (t || RegistroPage)(i0.ɵɵdirectiveInject(i1.ToastController), i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i2.FirestoreService));\n};\nRegistroPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistroPage,\n  selectors: [[\"app-registro\"]],\n  decls: 22,\n  vars: 2,\n  consts: [[1, \"ion-text-center\"], [\"src\", \"../../assets/img/registrar.png\", \"alt\", \"Imagen de registro\", 1, \"avatar\"], [\"name\", \"mail-outline\"], [\"id\", \"username\", \"type\", \"text\", \"placeholder\", \"Correo electr\\u00F3nico *\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"lock-open-outline\"], [\"id\", \"password\", \"type\", \"password\", \"placeholder\", \"Contrase\\u00F1a *\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"confirmPassword\", \"type\", \"password\", \"placeholder\", \"Confirmar Contrase\\u00F1a *\", \"required\", \"\"], [\"type\", \"submit\", \"expand\", \"block\", \"color\", \"dark\", 3, \"click\"], [\"type\", \"submit\", \"expand\", \"block\", \"color\", \"dark\", \"routerLink\", \"../login\", 1, \"registrar\"]],\n  template: function RegistroPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\", 0);\n      i0.ɵɵtext(3, \"Registro\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\");\n      i0.ɵɵelement(5, \"img\", 1);\n      i0.ɵɵelementStart(6, \"ion-item\")(7, \"ion-label\");\n      i0.ɵɵelement(8, \"ion-icon\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"ion-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistroPage_Template_ion_input_ngModelChange_9_listener($event) {\n        return ctx.datos.correo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"ion-item\")(11, \"ion-label\");\n      i0.ɵɵelement(12, \"ion-icon\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistroPage_Template_ion_input_ngModelChange_13_listener($event) {\n        return ctx.datos.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"ion-item\")(15, \"ion-label\");\n      i0.ɵɵelement(16, \"ion-icon\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"ion-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"ion-button\", 7);\n      i0.ɵɵlistener(\"click\", function RegistroPage_Template_ion_button_click_18_listener() {\n        return ctx.registrar();\n      });\n      i0.ɵɵtext(19, \"Registrarse\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"ion-button\", 8);\n      i0.ɵɵtext(21, \"Regresar\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.datos.correo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.datos.password);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.RequiredValidator, i3.NgModel, i1.IonButton, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor, i1.RouterLinkDelegate, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAUA,OAAM,MAAOA,YAAY;EAQvBC,YACoBC,eAAgC,EACjCC,aAA4B,EAC5BC,IAAuB;IAFtB,oBAAe,GAAfF,eAAe;IAChB,kBAAa,GAAbC,aAAa;IACb,SAAI,GAAJC,IAAI;IATvB,UAAK,GAAS;MACZC,EAAE,EAAC,EAAE;MACLC,MAAM,EAAC,EAAE;MACTC,QAAQ,EAAC,EAAE;MACXC,MAAM,EAAC;KACR;EAI6C;EAE9CC,QAAQ,IACR;EAEMC,SAAS;;;MACb,MAAMC,GAAG,GAAG,MAAM,IAAI,CAACP,IAAI,CAACQ,aAAa,CAAC,IAAI,CAACC,KAAK,CAACP,MAAM,EAAE,IAAI,CAACO,KAAK,CAACN,QAAQ,CAAC,CAACO,KAAK,CAACC,KAAK,IAAG;QAC9F,IAAI,CAACC,cAAc,CAAC,sBAAsB,CAAC;MAC7C,CAAC,CAAC;MACF,IAAGL,GAAG,EAAC;QACL,IAAI,CAACK,cAAc,CAAC,oCAAoC,CAAC;QACzD,MAAMC,IAAI,GAAG,UAAU;QACvB,MAAMZ,EAAE,GAAG,SAAG,CAACa,IAAI,0CAAEC,GAAG;QACxB,IAAI,CAACf,IAAI,CAACgB,eAAe,CAAC,IAAI,CAACP,KAAK,EAAEI,IAAI,EAAEZ,EAAE,CAAC;;;;EAK7CW,cAAc,CAACK,OAAY;;MAC/B,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACpB,eAAe,CAACqB,MAAM,CAAC;QAC9CC,QAAQ,EAAE,KAAK;QACfC,OAAO,EAAEJ,OAAO;QAChBK,QAAQ,EAAC;OACV,CAAC;MACFJ,KAAK,CAACK,OAAO,EAAE;IACjB,CAAC;;;;mBApCU3B,YAAY;AAAA;;QAAZA,YAAY;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVzBC,kCAAY;MAE2BA,wBAAQ;MAAAA,iBAAY;MAI3DA,mCAAa;MACXA,yBAAkF;MAChFA,gCAAU;MAENA,8BAAyC;MAC3CA,iBAAY;MACZA,oCAA4G;MAAjGA;QAAA;MAAA,EAA0B;MAAuEA,iBAAY;MAG1HA,iCAAU;MAENA,+BAA8C;MAChDA,iBAAY;MACVA,qCAA0G;MAA/FA;QAAA;MAAA,EAA4B;MAAmEA,iBAAY;MAG1HA,iCAAU;MAENA,+BAA8C;MAChDA,iBAAY;MACVA,gCAA0G;MAC9GA,iBAAW;MAEXA,sCAA4E;MAAtBA;QAAA,OAASC,eAAW;MAAA,EAAC;MAACD,4BAAW;MAAAA,iBAAa;MACpGA,sCAA8F;MAAAA,yBAAQ;MAAAA,iBAAa;;;MAlBtGA,eAA0B;MAA1BA,0CAA0B;MAOxBA,eAA4B;MAA5BA,4CAA4B","names":["RegistroPage","constructor","toastController","navController","base","id","correo","password","perfil","ngOnInit","registrar","res","registrarUser","datos","catch","error","mostrarMensaje","path","user","uid","crearDocumeneto","mensaje","toast","create","position","message","duration","present","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\rolan\\Desktop\\ClienteVeterinaria\\src\\app\\registro\\registro.page.ts","C:\\Users\\rolan\\Desktop\\ClienteVeterinaria\\src\\app\\registro\\registro.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport {User} from 'src/app/modelo/modelos';\r\nimport { NavController, ToastController } from '@ionic/angular';\r\nimport { FirestoreService } from '../servicios/firestore.service';\r\n\r\n@Component({\r\n  selector: 'app-registro',\r\n  templateUrl: './registro.page.html',\r\n  styleUrls: ['./registro.page.scss'],\r\n})\r\nexport class RegistroPage implements OnInit {\r\n\r\n  datos: User = { \r\n    id:\"\",\r\n    correo:\"\",\r\n    password:\"\",\r\n    perfil:'cliente'\r\n  }\r\n  constructor(\r\n              private toastController: ToastController,\r\n              public navController: NavController,\r\n              public base : FirestoreService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async registrar(){\r\n    const res = await this.base.registrarUser(this.datos.correo, this.datos.password).catch(error =>{\r\n      this.mostrarMensaje(\"Ha ocurrido un error\")\r\n    })\r\n    if(res){\r\n      this.mostrarMensaje(\"Se registro el usuario con exito!!\")\r\n      const path = 'Clientes';\r\n      const id = res.user?.uid\r\n      this.base.crearDocumeneto(this.datos, path, id)\r\n      \r\n    }\r\n  }\r\n\r\n  async mostrarMensaje(mensaje: any){\r\n    const toast = await this.toastController.create({\r\n      position: 'top',\r\n      message: mensaje,\r\n      duration:3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title class=\"ion-text-center\">Registro</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <img class=\"avatar\" src=\"../../assets/img/registrar.png\" alt=\"Imagen de registro\">\r\n    <ion-item>\r\n      <ion-label>\r\n        <ion-icon name=\"mail-outline\"></ion-icon>\r\n      </ion-label>\r\n      <ion-input [(ngModel)]=\"datos.correo\" id=\"username\" type=\"text\" placeholder=\"Correo electrónico *\" required></ion-input>\r\n    </ion-item>\r\n\r\n    <ion-item>\r\n      <ion-label>\r\n        <ion-icon name=\"lock-open-outline\"></ion-icon>\r\n      </ion-label>\r\n        <ion-input [(ngModel)]=\"datos.password\" id=\"password\" type=\"password\" placeholder=\"Contraseña *\" required></ion-input>      \r\n    </ion-item>      \r\n\r\n    <ion-item>\r\n      <ion-label>\r\n        <ion-icon name=\"lock-open-outline\"></ion-icon>\r\n      </ion-label>\r\n        <ion-input id=\"confirmPassword\" type=\"password\" placeholder=\"Confirmar Contraseña *\" required></ion-input>      \r\n    </ion-item>        \r\n\r\n    <ion-button type=\"submit\" expand=\"block\" color=\"dark\" (click)=\"registrar()\">Registrarse</ion-button>\r\n    <ion-button class=\"registrar\" type=\"submit\" expand=\"block\" color=\"dark\" routerLink=\"../login\">Regresar</ion-button>\r\n</ion-content>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}